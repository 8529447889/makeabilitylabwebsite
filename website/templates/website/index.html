{% extends "website/base.html" %}

{% block pagetitle %}Makeability Lab{% endblock %}

{% load staticfiles %}
{% load thumbnail %}
{% load cropping %}

{% block stylesheets %}

<link rel="stylesheet" href="{% static 'website/css/publications.css' %}">
<link rel="stylesheet" href="{% static 'website/css/talks.css' %}">
<link rel="stylesheet" href="{% static 'website/css/news.css' %}">
<link rel="stylesheet" href="{% static 'website/css/landing.css' %}"

{% endblock %}

{% block content %}
<div id="content" class="container" data-spy="scroll" data-target="#navbar-scroll" data-offset="50">
    <div id="header" class="container">
	<center><h1>We are the <font color="blue">Makeability Lab</font>, dedicated to building and studying interaction technology for a social purpose</h1></center>
    </div>
    <div id="circles" class="row icon_row">
	<!-- TODO Cleanup the icon files once they are accepted -->
	<!-- TODO add links for each icon to the appropriate publications/projects page -->
	<div class="col-xs-2 col-xs-offset-1 icon-col">
	    <a href="">
		<img src="{% static 'website/img/icons/sustainabilitycircle.png' %}">
	    </a>
	    <center><span class="icon_label">Sustainability</span></center>
	</div>
	<div class="col-xs-2 icon-col">
	    <a href="">
		<img src="{% static 'website/img/icons/accessibilitycircle.png' %}">
	    </a>
	    <center><span class="icon_label">Accessibility</span></center>
	</div>
	<div class="col-xs-2 icon-col">
	    <a herf="">
		<img src="{% static 'website/img/icons/healthcircle.png' %}">
	    </a>
	    <center><span class="icon_label">Health</span></center>
	</div>
	<div class="col-xs-2 icon-col">
	    <a href="">
		<img src="{% static 'website/img/icons/learningcircle.png' %}">
	    </a>
	    <center><span class="icon_label">Learning Tools</span></center>
	</div>
	<div class="col-xs-2 icon-col">
	    <a href="">
		<img src="{% static 'website/img/icons/makertoolscircle.png' %}">
	    </a>
	    <center><span class="icon_label">Maker Tools</span></center>
	</div>
    </div>
    <div id="statement" class="row">
	<p>
	    A 2-4 sentence statement about our research agenda or something. A 2-4 sentence statement about our research agenda or something. A 2-4 sentence statement about our research agenda or something. A 2-4 sentence statement about our research agenda or something.
	</p>
    </div>
    <div class="row">
	<!-- This column will contain the new feeds  -->
	<div class="col-xs-12 col-md-2 col-md-push-10">
	    <h2>Recent News</h2>
	    <!-- Create a row for the well which will contain news from our feeds -->
	    <div class="row">
		<div class="well news-well">
		    {% for item, length in news %}
		    <!-- Create a row for each news item which has been passed in -->
		    <div class="row news_header">
			<!-- Use the items image if it exists, otherwise use the default icon -->
			{% if item.image %}
			<img src="{{item.image.url}}" class="news_image" height="50" width="50" alt="{{item.alt_text}}">
			{% else %}
			<img src="{% static 'website/img/news_icon.png' %}" class="news_image" heght="50" width="50">			
			{% endif %}
			<p class="news_title">{{item.title}}</p>
			<p class="news_date">{{item.date}} | {{item.author}}</p>
		    </div>
		    <div class="row news_body">
			<!-- If the content is going to be truncated, remove the default ... and replace it with our link -->
			<!-- news_length can be adjusted in the view.py file -->
			<!-- TODO link to the full news item -->
			{% if length > news_length %}
			<span class="news_content"> {{item.content|truncatewords:news_length|slice:"-4"}} <a href="">...</a></span>
			{% else %}
			<span class="news_content"> {{item.content|truncatewords:news_length}} <a href="">...</a></span>
			{% endif %}
		    </div>
		    {% endfor %}
		</div>
	    </div>
	</div>
	<!-- This column will contain the recent publications and talks  -->
	<div class="col-xs-12 col-md-10 col-md-pull-2">
	    <div class="row">
		<h2>Recent Papers</h2>
		<div class="col-xs-12 col-md-10">
		    <!-- Create a publication div for each publication passed in -->
		    {% for pub in publications %}
		    <div class="row publication-template">
			<div class="publication-thumbnail">
			    <!-- TODO link to the specific page for the paper/project or the general publications page -->
			    <a href="" class="publication-thumbnail-link">
				<img src="{% thumbnail pub.thumbnail 300x0 detail %}" class="publication-thumbnail-img img-responsive">
			    </a>
			</div>
			<div class="publication-info">
			    <p class="publication-title">{{pub.title}}</p>
			    <p class="publication-authors">
				{% for author in pub.authors.all %}
				<span class="publication-author"><a href="{% url 'website:member' author.id %}">{{author.get_full_name}}</a>&nbsp;</span>
				{% endfor %}
			    </p>
			    <p class="publication-stats">
				<span class="publication-venue">{{pub.book_title_short}}</span>
			    </p>
			</div>
		    </div>
		    {% endfor %}
		    <p>More Publications can be found<a href="{% url 'website:publications' %}"> here</a></p>
		</div>
	    </div>
	    <div class="row">
		<h2>Recent Talks</h2>
		<p>All our talks can be found <a href="{% url 'website:talks' %}">here</a></p>
		<div class="row">
		</div>
		<!-- Create a div for each talk passed in -->
		    {% for talk in talks %}
		    <div class="col-xs-5 col-md-2 talk-template">
			<div class="talk-thumbnail">
			    <!-- TODO add link to the specific talk? or to the general talk page perhaps -->
			    <a href="" class="talk-thumbnail-link">
				<img src="{% thumbnail talk.thumbnail 200x0 detail %}" class="talk-thumbnail-image img-responsive">
			    </a>
			</div>
			<p class="talk-title">
			    {{talk.title}}
			</p>
		    </div>
		    {% endfor %}
		</div>
	    </div>
	</div>
    </div>
</div>
{% endblock %}
