{#	TODO: limit keywords/projects by page size to avoid overflow #}
{#	TODO: auto-add using bibtex #}

{% extends "website/base.html" %}

{% block pagetitle %}Talks{% endblock %}

{% load staticfiles %}
{% load thumbnail %}
{% load cropping %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static 'website/css/talks.css' %}">
    <link rel="stylesheet" href="{% static 'website/css/jquery-ui.min.css' %}">
    <link rel="stylesheet" href="{% static 'website/css/jquery-ui.theme.min.css' %}">
    <link rel="stylesheet" href="{% static 'website/css/bootstrap-modifications.css' %}">
{% endblock %}

{% block external_scripts %}
    <script src="{% static 'website/js/jquery-ui.min.js' %}"></script>
{% endblock %}

{% block maincarousel %}
    <div id="mainCarousel" class="carousel slide carousel-fade shortCarousel" data-ride="carousel" data-interval="10000" data-pause="false">
        <div class="page-title shadow-left">
            <div class="container carousel-container">
                <div class="overlay-title">Talks</div>
            </div>
        </div>
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            {% for banner in banners %}
            <div class="item {% if forloop.first %}active{% endif %}">
		{% if banner.link %}
		<a href="{{banner.link}}">
		    {% else %}
		    {% if banner.project %}
		    <a href="{% url 'website:project' banner.project.short_name %}">
			{% endif %}
			{% endif %}
			<div class="fill" style="background-image:url({% cropped_thumbnail banner "cropping" scale=1.0 %})" aria-label="{{ banner.alt_text }}" title="{{ banner.alt_text}}"></div>
			{% if banner.link %}</a>{% endif %}
		    {% if banner.project %}
		</a>
		{% endif %}
            </div>
            {% endfor %}
        </div>
        <ol class="carousel-indicators"  {% if banners|length < 2 %} style="display: none" {% endif %}>
          {% for banner in banners %}
          <li data-target="#mainCarousel" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}></li>
          {% endfor %}
       </ol>
    </div>
{% endblock %}

{% block content %}
    <div id="content" class="container" style="margin-top: 50px">
        {% for talk in talks %}
            {% include "snippets/display_talk_snippet.html" %}
        {% endfor %}
    </div>
{% endblock %}
