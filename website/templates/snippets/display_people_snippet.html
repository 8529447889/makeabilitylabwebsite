{# This is a reusable template for displaying people #}
{# See: https://docs.djangoproject.com/en/dev/ref/templates/builtins/#include #}

{% load staticfiles %}
{% load thumbnail %}
{% load cropping %}
{% load ml_tags %}

{# TODO: should really rename member object to being a position object, since that's what it is #}
{% for title in sorted_titles %}
    {% if map_status_to_title_to_people|get_item:member_status and map_status_to_title_to_people|get_item:member_status|get_item:title %}
        {% for member in map_status_to_title_to_people|get_item:member_status|get_item:title %}
            <div class="item" name="member" style="background:white; margin-right: 15px; width: 210px; height:391px; object-fit: contain">
                <a href="{% url 'website:member' member.person.url_name %}">
                    <div class="easter-egg-col">
                        <img src="{% thumbnail member.person.image 245x245 box=member.person.cropping crop detail upscale %}"
                             class="img-responsive main-image"/>
                        <div class="overlay-easter-egg">
                            <img src="{% thumbnail member.person.easter_egg 245x245 box=member.person.easter_egg_crop crop detail upscale %}"
                                 class="img-responsive">
                        </div>
                    </div>
                </a>
                <div class="item-info" style="background:white">
                    <a href="{% url 'website:member' member.person.url_name %}">
                        <h5>{{ member.person.get_full_name }}</h5>
                    </a>
                    {{ member.get_start_date_short }} - {{ member.get_end_date_short }}<br/>

                    {{ member.person.get_current_title }}<br/>
                    {% if member.person.get_current_title != 'High School Student' %}
                        {{ member.person.get_current_department }}<br/>
                    {% endif %}
                    {{ member.person.get_current_school }}<br/>
                </div>
                <div class="sortingAndFiltering" style="display:none">
                    <!-- special case for professors since each type of prof does not get their own category -->
                    {% if  "Professor" in member.person.get_current_title %}
                        Professor()
                    {% else %}
                        {{ member.person.get_current_title }}()
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    {% endif %}
{% endfor %}